<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Running R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="running_files/libs/clipboard/clipboard.min.js"></script>
<script src="running_files/libs/quarto-html/quarto.js"></script>
<script src="running_files/libs/quarto-html/popper.min.js"></script>
<script src="running_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="running_files/libs/quarto-html/anchor.min.js"></script>
<link href="running_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="running_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="running_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="running_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="running_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="running.html"><i class="bi bi-file-slides"></i>RevealJS</a></li><li><a href="running.pdf"><i class="bi bi-file-pdf"></i>Beamer</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Running R</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="running-r-online" class="level2">
<h2 class="anchored" data-anchor-id="running-r-online">Running R online</h2>
<p>Go to <a href="https://r.datatools.utoronto.ca">https://r.datatools.utoronto.ca</a>.</p>
<p>You should see this:</p>
<p><img src="Screenshot_2023-05-14_18-09-15.png" class="img-fluid"></p>
<p>If you do, find the line that says “after logging in, open” and click the button next to R Studio to make it blue. Then click the orange Log In to Start, and log in with UTorID and password. (You might need to enter your <code>utoronto.ca</code> email first.)</p>
</section>
<section id="how-r-studio-looks" class="level2">
<h2 class="anchored" data-anchor-id="how-r-studio-looks">How R Studio looks</h2>
<p><img src="Screenshot_2023-05-14_18-19-08.png" class="img-fluid"></p>
<p>If you are already signed in with UTorID and password, you might come directly here. (If you look at the URL that you are now at, you’ll see that it has your email address in it.)</p>
</section>
<section id="projects" class="level2">
<h2 class="anchored" data-anchor-id="projects">Projects</h2>
<ul>
<li>Each user has a “workspace”, a place where all your work is stored.</li>
<li>Within that workspace, you can have as many Projects as you like.</li>
<li>To create a new Project, click on the blue New Project button.</li>
<li>I recommend having one project per <em>course</em>.</li>
<li>R Studio restarts where you left off.</li>
</ul>
</section>
<section id="make-a-new-project" class="level2">
<h2 class="anchored" data-anchor-id="make-a-new-project">Make a new project</h2>
<ul>
<li>Call it what you like. Mine is called <code>thing</code>:</li>
<li>Select:
<ul>
<li>File,</li>
<li>New Project,</li>
<li>New Directory,</li>
<li>New Project (again),</li>
<li>give it a name and click Create Project.</li>
</ul></li>
<li>You see the name of your new project top right.</li>
</ul>
</section>
<section id="r-notebooks" class="level2">
<h2 class="anchored" data-anchor-id="r-notebooks">R Notebooks</h2>
<ul>
<li>At left of previous view is Console, where you can enter R commands and see output.</li>
<li>A better way to work is via “Quarto Documents”. These allow you to combine narrative, code and output in one document.</li>
<li>Data analysis is always a story: not only what you did, but why you did it, with the “why” being more important.</li>
<li>To create a new Quarto Document, select File, New File, Quarto Document. Give it a title. This brings up an example document as over.</li>
</ul>
</section>
<section id="the-template-document" class="level2">
<h2 class="anchored" data-anchor-id="the-template-document">The template document</h2>
<p><img src="Screenshot_2023-05-14_18-25-17.png" class="img-fluid" style="width:150.0%"></p>
</section>
<section id="about-this-document" class="level2">
<h2 class="anchored" data-anchor-id="about-this-document">About this document</h2>
<ul>
<li>It begins with a title (that you can change).</li>
<li>Most of the document is text (narrative).</li>
<li>Pieces beginning with <code>{r}</code>, in grey, are called code cells (code chunks). They contain R code.</li>
<li>Run code cells by clicking on the green “play button” at the top right of the first cell. This one does some very exciting arithmetic.</li>
</ul>
</section>
<section id="after-running-the-code-chunk" class="level2">
<h2 class="anchored" data-anchor-id="after-running-the-code-chunk">After running the code chunk</h2>
<p><img src="Screenshot_2023-05-14_18-30-04.png" class="img-fluid" style="width:150.0%"></p>
</section>
<section id="making-our-own-document-12" class="level2">
<h2 class="anchored" data-anchor-id="making-our-own-document-12">Making our own document 1/2</h2>
<ul>
<li>Create another new document. Give it a title of “Some random normal data”, and click Create. When the document opens, delete the template that it gives you (leaving only the five or so lines that begin and end with <code>---</code>).</li>
<li>You will probably be sitting on a line that says (greyed out) Heading 2. On this line, type <strong>Packages</strong> (which you’ll see big and bold like a title) and hit Enter a couple of times. At the top of the window, on the line with Visual, Format, Insert, and Table, it should now say Normal (which is normal text). If you want a heading, click the arrow to the right of Normal and select one. Header 2 is a good one for section titles in your document.</li>
</ul>
</section>
<section id="making-our-own-document-22" class="level2">
<h2 class="anchored" data-anchor-id="making-our-own-document-22">Making our own document 2/2</h2>
<ul>
<li>Make a new code chunk by clicking Insert (at the top of the notebook window) and selecting Code Cell and R. Inside that cell, type <code>library(tidyverse)</code>.</li>
<li>Below that, make another “Header 2” and put “Random normal data” on that line.</li>
<li>Make another new code cell below that, and insert two lines of code: <code>z &lt;- rnorm(100)</code> and then <code>z</code>.</li>
<li>Below that, make another Header 2, “A histogram”, and a code cell containing <code>ggplot(tibble(z), aes(x=z)) + geom_histogram(bins = 10)</code>.</li>
</ul>
</section>
<section id="my-document" class="level2">
<h2 class="anchored" data-anchor-id="my-document">My document</h2>
<p><img src="Screenshot_2023-05-14_18-49-36.png" class="img-fluid" style="width:150.0%"></p>
</section>
<section id="run-the-chunks" class="level2">
<h2 class="anchored" data-anchor-id="run-the-chunks">Run the chunks</h2>
<ul>
<li>Now run each of the three chunks in order. You’ll see output below each one, including a histogram below the last one.</li>
<li>When it works, add some narrative text before the code chunks explaining what is going to be done, and some text after describing what you see.</li>
<li>Save the document (File, Save As). You don’t need a file extension.</li>
<li>Click Render (at the top). This makes an HTML-formatted report, which may appear in another tab of your web browser.</li>
<li>If you want to edit anything, go back to the Quarto document, change it, save it, and run Render again. For example, you can try putting some of the text in <em>italics</em> or <strong>bold</strong>. (See Format.)</li>
</ul>
</section>
<section id="the-end-of-my-rendered-report" class="level2">
<h2 class="anchored" data-anchor-id="the-end-of-my-rendered-report">The end of my (rendered) report</h2>
<p><img src="Screenshot_2023-05-14_18-56-55.png" class="img-fluid" style="width:150.0%"></p>
</section>
<section id="installing-r-on-your-own-computer" class="level2">
<h2 class="anchored" data-anchor-id="installing-r-on-your-own-computer">Installing R on your own computer</h2>
<ul>
<li>Free, open-source. Download and run on own computer.</li>
<li>Three things:
<ul>
<li>R itself (install first)</li>
<li>R Studio (front end)</li>
<li>Quarto (for writing reports).</li>
</ul></li>
</ul>
</section>
<section id="downloading-r" class="level2">
<h2 class="anchored" data-anchor-id="downloading-r">Downloading R</h2>
<ul>
<li>Go to <a href="https://www.r-project.org/" class="uri">https://www.r-project.org/</a>.</li>
</ul>
<p><img src="r30.png" class="img-fluid"></p>
<ul>
<li><p>Click Download R.</p></li>
<li><p>R is stored on numerous “mirrors”, sites around the world. The top one, “0-Cloud”, picks one for you. Or you can choose one close to you (might be faster), eg. U of T:</p></li>
</ul>
<p><img src="Screenshot_2018-08-17_11-09-02.png" class="img-fluid" style="width:150.0%"></p>
</section>
<section id="click-your-mirror" class="level2">
<h2 class="anchored" data-anchor-id="click-your-mirror">Click your mirror</h2>
<ul>
<li>Click 0-Cloud or U of T (or other mirror), get:</li>
</ul>
<p><img src="r32.png" class="img-fluid" style="width:150.0%"></p>
<ul>
<li>Click on your operating system, eg. Windows.</li>
</ul>
</section>
<section id="click-on-base" class="level2">
<h2 class="anchored" data-anchor-id="click-on-base">Click on Base</h2>
<p><img src="r33.png" class="img-fluid" style="width:150.0%"></p>
<ul>
<li>Click on “base” here.</li>
</ul>
</section>
<section id="the-actual-download" class="level2">
<h2 class="anchored" data-anchor-id="the-actual-download">The actual download</h2>
<ul>
<li><p>The version number is, as I write this, 4.3.0, but there may be an update between me writing this and you reading it.</p></li>
<li><p>For Windows, click something like the top link below:</p></li>
</ul>
<p><img src="Screenshot_2023-05-14_21-38-35.png" class="img-fluid" style="width:200.0%"></p>
<ul>
<li>Then install usual way.</li>
<li>For Mac, install <code>R-4.3.0-arm64.pkg</code> (Big Sur and newer), <code>R-4.3.0-x86_64.pkg</code> (older), or a newer version if available.</li>
<li>Or, for Linux, click your distribution (eg. Ubuntu), then follow the instructions.</li>
</ul>
</section>
<section id="now-r-studio" class="level2">
<h2 class="anchored" data-anchor-id="now-r-studio">Now, R Studio</h2>
<ul>
<li><p>Go to <a href="https://www.rstudio.com/" class="uri">https://www.rstudio.com/</a>. You will be redirected to <code>posit.co</code>, which is the new name of the company that makes R Studio.</p></li>
<li><p>Top right, click Download R Studio (the blue link).</p></li>
<li><p>Scroll down to the non-blue Download R Studio.</p></li>
<li><p>There are two choices. You want the free one on the left.</p></li>
<li><p>Click left-side Download.</p></li>
</ul>
</section>
<section id="find-the-one-for-you" class="level2">
<h2 class="anchored" data-anchor-id="find-the-one-for-you">Find the one for you</h2>
<ul>
<li><p>We already installed R, so no need to do that.</p></li>
<li><p>Scroll down to All Installers, and click the installer for your machine (Windows, Mac, several flavours of Linux). Install as usual.</p></li>
</ul>
<p><img src="Screenshot_2023-05-14_21-47-40.png" class="img-fluid"></p>
</section>
<section id="quarto" class="level2">
<h2 class="anchored" data-anchor-id="quarto">Quarto</h2>
<p>The last thing we need is Quarto, so that we can render documents (and thus hand in assignments).</p>
<ul>
<li>Go to <a href="https://quarto.org/" class="uri">https://quarto.org/</a>.</li>
<li>Click on one of the Get Started links.</li>
<li>Find your operating system and install as usual:</li>
</ul>
<p><img src="Screenshot_2023-05-14_21-51-32.png" class="img-fluid"></p>
</section>
<section id="running-r" class="level2">
<h2 class="anchored" data-anchor-id="running-r">Running R</h2>
<ul>
<li>All of above only done once.</li>
<li>To run R, run R Studio, which itself runs R.</li>
</ul>
</section>
<section id="how-r-studio-looks-when-you-run-it" class="level2">
<h2 class="anchored" data-anchor-id="how-r-studio-looks-when-you-run-it">How R Studio looks when you run it</h2>
<p><img src="rstudio-startup.png" class="img-fluid" style="width:60.0%"></p>
<ul>
<li><p>that is, just the same as the online one.</p></li>
<li><p>First time you run R Studio on your machine, click on Console window, and, next to the <code>&gt;</code>, type <code>install.packages("tidyverse")</code>. Let it do what it needs to. (You need to do this on your machine. On <code>r.datatools.utoronto.ca</code>, it’s already been done.)</p></li>
</ul>
</section>
<section id="projects-1" class="level2">
<h2 class="anchored" data-anchor-id="projects-1">Projects</h2>
<ul>
<li>A project is a “container” for code and data that belong together.</li>
<li>Goes with a folder on some computer.</li>
<li>File, New Project. You have option to create the new project in a new folder, or in a folder that already exists.</li>
<li>Use a project for a collection of work that belongs together, eg. data files and Quarto documents for assignments. Putting everything in a project folder makes it easier to find.</li>
<li>Example: use a project for (all) assignments in a course, a different document within that project for each one.</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>
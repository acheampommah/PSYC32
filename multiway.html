<!DOCTYPE html>
<html lang="en"><head>
<script src="multiway_files/libs/clipboard/clipboard.min.js"></script>
<script src="multiway_files/libs/quarto-html/tabby.min.js"></script>
<script src="multiway_files/libs/quarto-html/popper.min.js"></script>
<script src="multiway_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="multiway_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="multiway_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="multiway_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="multiway_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.340">

  <title>Multiway Frequency Tables</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="multiway_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="multiway_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="multiway_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="multiway_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="multiway_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="multiway_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="multiway_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  
  <link href="multiway_files/libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
  <script src="multiway_files/libs/pagedtable-1.1/js/pagedtable.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Multiway Frequency Tables</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="packages" class="slide level2">
<h2>Packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="multi-way-frequency-analysis" class="slide level2 scrollable">
<h2>Multi-way frequency analysis</h2>
<ul>
<li>A study of gender and eyewear-wearing finds the following frequencies:</li>
</ul>
<pre><code>gender contacts glasses none
female 121      32      129
male   42       37      85</code></pre>
<ul>
<li><p>Is there association between eyewear and gender?</p></li>
<li><p>Normally answer this with chisquare test (based on observed and expected frequencies from null hypothesis of no association).</p></li>
<li><p>Two categorical variables and a frequency.</p></li>
<li><p>We assess in way that generalizes to more categorical variables.</p></li>
</ul>
</section>
<section id="the-data-file" class="slide level2">
<h2>The data file</h2>
<pre><code>gender contacts glasses none
female 121      32      129
male   42       37      85</code></pre>
<ul>
<li><p>This is <em>not tidy!</em></p></li>
<li><p>Two variables are gender and <em>eyewear</em>, and those numbers all frequencies.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"http://ritsokiguess.site/datafiles/eyewear.txt"</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>(eyewear <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(my_url, <span class="st">" "</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["gender"],"name":[1],"type":["chr"],"align":["left"]},{"label":["contacts"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["glasses"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["none"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"female","2":"121","3":"32","4":"129"},{"1":"male","2":"42","3":"37","4":"85"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="tidying-the-data" class="slide level2">
<h2>Tidying the data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>eyewear <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="fu">pivot_longer</span>(contacts<span class="sc">:</span>none, <span class="at">names_to=</span><span class="st">"eyewear"</span>, </span>
<span id="cb5-3"><a href="#cb5-3"></a>               <span class="at">values_to=</span><span class="st">"frequency"</span>) <span class="ot">-&gt;</span> eyes</span>
<span id="cb5-4"><a href="#cb5-4"></a>eyes</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["gender"],"name":[1],"type":["chr"],"align":["left"]},{"label":["eyewear"],"name":[2],"type":["chr"],"align":["left"]},{"label":["frequency"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"female","2":"contacts","3":"121"},{"1":"female","2":"glasses","3":"32"},{"1":"female","2":"none","3":"129"},{"1":"male","2":"contacts","3":"42"},{"1":"male","2":"glasses","3":"37"},{"1":"male","2":"none","3":"85"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="making-tidy-data-back-into-a-table" class="slide level2">
<h2>Making tidy data back into a table</h2>
<ul>
<li>use <code>pivot_wider</code></li>
<li>or this (we use it again later):</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>xt <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(frequency <span class="sc">~</span> gender <span class="sc">+</span> eyewear, <span class="at">data =</span> eyes)</span>
<span id="cb6-2"><a href="#cb6-2"></a>xt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        eyewear
gender   contacts glasses none
  female      121      32  129
  male         42      37   85</code></pre>
</div>
</div>
</section>
<section id="modelling" class="slide level2">
<h2>Modelling</h2>
<ul>
<li>Predict frequency from other factors and combos.</li>
<li><code>glm</code> with <code>poisson</code> family.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>eyes<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">glm</span>(frequency <span class="sc">~</span> gender <span class="sc">*</span> eyewear,</span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="at">data =</span> eyes,</span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="at">family =</span> <span class="st">"poisson"</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Called <strong>log-linear model</strong>.</li>
</ul>
</section>
<section id="what-can-we-get-rid-of" class="slide level2">
<h2>What can we get rid of?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">drop1</span>(eyes<span class="fl">.1</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"7.549517e-15","3":"47.95815","4":"NA","5":"NA","_rn_":"<none>"},{"1":"2","2":"1.782863e+01","3":"61.78678","4":"17.82863","5":"0.0001344505","_rn_":"gender:eyewear"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>nothing!</p>
</section>
<section id="conclusions" class="slide level2">
<h2>Conclusions</h2>
<ul>
<li><p><code>drop1</code> says what we can remove at this step. Significant = must stay.</p></li>
<li><p>Cannot remove anything.</p></li>
<li><p>Frequency depends on <code>gender-wear</code> <em>combination</em>, cannot be simplified further.</p></li>
<li><p>Gender and eyewear are <em>associated</em>.</p></li>
<li><p>Stop here.</p></li>
</ul>
</section>
<section id="prop.table" class="slide level2">
<h2><code>prop.table</code></h2>
<p>Original table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>xt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        eyewear
gender   contacts glasses none
  female      121      32  129
  male         42      37   85</code></pre>
</div>
</div>
<p>Calculate eg. row proportions like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">prop.table</span>(xt, <span class="at">margin =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        eyewear
gender    contacts   glasses      none
  female 0.4290780 0.1134752 0.4574468
  male   0.2560976 0.2256098 0.5182927</code></pre>
</div>
</div>
</section>
<section id="comments" class="slide level2">
<h2>Comments</h2>
<ul>
<li><p><code>margin</code> says what to make add to 1.</p></li>
<li><p>More females wear contacts and more males wear glasses.</p></li>
</ul>
</section>
<section id="no-association" class="slide level2">
<h2>No association</h2>
<ul>
<li>Suppose table had been as shown below:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"http://ritsokiguess.site/datafiles/eyewear2.txt"</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>eyewear2 <span class="ot">&lt;-</span> <span class="fu">read_table</span>(my_url)</span>
<span id="cb14-3"><a href="#cb14-3"></a>eyewear2 <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4"></a>   <span class="fu">pivot_longer</span>(contacts<span class="sc">:</span>none, <span class="at">names_to =</span> <span class="st">"eyewear"</span>, </span>
<span id="cb14-5"><a href="#cb14-5"></a>                <span class="at">values_to =</span> <span class="st">"frequency"</span>) <span class="ot">-&gt;</span> eyes2</span>
<span id="cb14-6"><a href="#cb14-6"></a>xt2 <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(frequency <span class="sc">~</span> gender <span class="sc">+</span> eyewear, <span class="at">data =</span> eyes2)</span>
<span id="cb14-7"><a href="#cb14-7"></a>xt2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        eyewear
gender   contacts glasses none
  female      150      30  120
  male         75      16   62</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">prop.table</span>(xt2, <span class="at">margin =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        eyewear
gender    contacts   glasses      none
  female 0.5000000 0.1000000 0.4000000
  male   0.4901961 0.1045752 0.4052288</code></pre>
</div>
</div>
</section>
<section id="comments-1" class="slide level2">
<h2>Comments</h2>
<ul>
<li>Females and males wear contacts and glasses <em>in same proportions</em>
<ul>
<li>though more females and more contact-wearers.</li>
</ul></li>
<li>No <em>association</em> between gender and eyewear.</li>
</ul>
</section>
<section id="analysis-for-revised-data" class="slide level2">
<h2>Analysis for revised data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>eyes<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">glm</span>(frequency <span class="sc">~</span> gender <span class="sc">*</span> eyewear,</span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="at">data =</span> eyes2,</span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="at">family =</span> <span class="st">"poisson"</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>)</span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="fu">drop1</span>(eyes<span class="fl">.2</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"2.176037e-14","3":"47.46718","4":"NA","5":"NA","_rn_":"<none>"},{"1":"2","2":"4.732267e-02","3":"43.51450","4":"0.04732267","5":"0.9766164","_rn_":"gender:eyewear"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>No longer any association. Take out interaction.</p>
</section>
<section id="no-interaction" class="slide level2">
<h2>No interaction</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>eyes<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">update</span>(eyes<span class="fl">.2</span>, . <span class="sc">~</span> . <span class="sc">-</span> gender<span class="sc">:</span>eyewear)</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="fu">drop1</span>(eyes<span class="fl">.3</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"0.04732267","3":"43.51450","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"48.62389131","3":"90.09107","4":"48.57657","5":"3.176418e-12","_rn_":"gender"},{"1":"2","2":"138.13041408","3":"177.59759","4":"138.08309","5":"1.036663e-30","_rn_":"eyewear"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<ul>
<li><p>More females (gender effect)</p></li>
<li><p>more contact-wearers (eyewear effect)</p></li>
<li><p>no association (no interaction).</p></li>
</ul>
</section>
<section id="chest-pain-being-overweight-and-being-a-smoker" class="slide level2">
<h2>Chest pain, being overweight and being a smoker</h2>
<ul>
<li><p>In a hospital emergency department, 176 subjects who attended for acute chest pain took part in a study.</p></li>
<li><p>Each subject had a normal or abnormal electrocardiogram reading (ECG), were overweight (as judged by BMI) or not, and were a smoker or not.</p></li>
<li><p>How are these three variables related, or not?</p></li>
</ul>
</section>
<section id="the-data" class="slide level2">
<h2>The data</h2>
<p>In modelling-friendly format:</p>
<pre><code>
ecg bmi smoke count
abnormal overweight yes 47
abnormal overweight no 10
abnormal normalweight yes 8 
abnormal normalweight no 6
normal overweight yes 25 
normal overweight no 15 
normal normalweight yes 35
normal normalweight no 30</code></pre>
</section>
<section id="first-step" class="slide level2">
<h2>First step</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"http://ritsokiguess.site/datafiles/ecg.txt"</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>chest <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(my_url, <span class="st">" "</span>)</span>
<span id="cb21-3"><a href="#cb21-3"></a>chest<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">glm</span>(count <span class="sc">~</span> ecg <span class="sc">*</span> bmi <span class="sc">*</span> smoke,</span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="at">data =</span> chest,</span>
<span id="cb21-5"><a href="#cb21-5"></a>  <span class="at">family =</span> <span class="st">"poisson"</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>)</span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="fu">drop1</span>(chest<span class="fl">.1</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"-1.475170e-28","3":"53.70730","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"1.388544e+00","3":"53.09584","4":"1.388544","5":"0.2386511","_rn_":"ecg:bmi:smoke"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>That 3-way interaction comes out.</p>
</section>
<section id="removing-the-3-way-interaction" class="slide level2">
<h2>Removing the 3-way interaction</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>chest<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">update</span>(chest<span class="fl">.1</span>, . <span class="sc">~</span> . <span class="sc">-</span> ecg<span class="sc">:</span>bmi<span class="sc">:</span>smoke)</span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">drop1</span>(chest<span class="fl">.2</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"1.388544","3":"53.09584","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"29.019513","3":"78.72681","4":"27.630969","5":"1.468094e-07","_rn_":"ecg:bmi"},{"1":"1","2":"4.893513","3":"54.60081","4":"3.504968","5":"6.118501e-02","_rn_":"ecg:smoke"},{"1":"1","2":"4.468863","3":"54.17616","4":"3.080319","5":"7.924499e-02","_rn_":"bmi:smoke"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>At <span class="math inline">\(\alpha=0.05\)</span>, <code>bmi:smoke</code> comes out.</p>
</section>
<section id="removing-bmismoke" class="slide level2">
<h2>Removing <code>bmi:smoke</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>chest<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">update</span>(chest<span class="fl">.2</span>, . <span class="sc">~</span> . <span class="sc">-</span> bmi<span class="sc">:</span>smoke)</span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="fu">drop1</span>(chest<span class="fl">.3</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"4.468863","3":"54.17616","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"36.562474","3":"84.26977","4":"32.09361","5":"1.469197e-08","_rn_":"ecg:bmi"},{"1":"1","2":"12.436473","3":"60.14377","4":"7.96761","5":"4.762177e-03","_rn_":"ecg:smoke"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><code>ecg:smoke</code> has become significant. So we have to stop.</p>
</section>
<section id="understanding-the-final-model" class="slide level2 scrollable">
<h2>Understanding the final model</h2>
<ul>
<li><p>Thinking of <code>ecg</code> as “response” that might depend on anything else.</p></li>
<li><p>What is associated with <code>ecg</code>? Both <code>bmi</code> on its own and <code>smoke</code> on its own, but <em>not</em> the combination of both.</p></li>
<li><p><code>ecg:bmi</code> table:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">xtabs</span>(count <span class="sc">~</span> ecg <span class="sc">+</span> bmi, <span class="at">data =</span> chest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          bmi
ecg        normalweight overweight
  abnormal           14         57
  normal             65         40</code></pre>
</div>
</div>
<ul>
<li>Most normal weight people have a normal ECG, but a majority of overweight people have an <em>abnormal</em> ECG. That is, knowing about BMI says something about likely ECG.</li>
</ul>
</section>
<section id="ecgsmoke" class="slide level2">
<h2><code>ecg:smoke</code></h2>
<ul>
<li><code>ecg:smoke</code> table:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="fu">xtabs</span>(count <span class="sc">~</span> ecg <span class="sc">+</span> smoke, <span class="at">data =</span> chest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          smoke
ecg        no yes
  abnormal 16  55
  normal   45  60</code></pre>
</div>
</div>
<ul>
<li><p>Most nonsmokers have a normal ECG, but smokers are about 50–50 normal and abnormal ECG.</p></li>
<li><p>Don’t look at <code>smoke:bmi</code> table since not significant.</p></li>
</ul>
</section>
<section id="simpsons-paradox-the-airlines-example" class="slide level2">
<h2>Simpson’s paradox: the airlines example</h2>
<pre><code>               Alaska Airlines       America West
Airport       On time    Delayed   On time    Delayed
Los Angeles      497        62        694       117
Phoenix          221        12       4840       415
San Diego        212        20        383        65
San Francisco    503       102        320       129
Seattle         1841       305        201        61

Total           3274       501       6438       787</code></pre>
<p>Use <code>status</code> as variable name for “on time/delayed”.</p>
<ul>
<li><p>Alaska: 13.3% flights delayed (<span class="math inline">\(501/(3274+501)\)</span>).</p></li>
<li><p>America West: 10.9% (<span class="math inline">\(787/(6438+787)\)</span>).</p></li>
<li><p>America West more punctual, right?</p></li>
</ul>
</section>
<section id="arranging-the-data" class="slide level2">
<h2>Arranging the data</h2>
<ul>
<li>Can only have single thing in columns, so we have to construct column names like this: </li>
</ul>
<pre><code>
airport    aa_ontime aa_delayed aw_ontime aw_delayed
LosAngeles   497          62       694        117
Phoenix      221          12      4840        415
SanDiego     212          20       383         65
SanFrancisco 503         102       320        129
Seattle     1841         305       201         61</code></pre>
<ul>
<li>Read in:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"http://ritsokiguess.site/datafiles/airlines.txt"</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>airlines <span class="ot">&lt;-</span> <span class="fu">read_table</span>(my_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tidying" class="slide level2">
<h2>Tidying</h2>
<ul>
<li>Some tidying gets us the right layout, with frequencies all in one column and the airline and delayed/on time status separated out. This uses one of the fancy versions of <code>pivot_longer</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>airlines <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>   <span class="fu">pivot_longer</span>(<span class="sc">-</span>airport, </span>
<span id="cb31-3"><a href="#cb31-3"></a>                <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"airline"</span>, <span class="st">"status"</span>), </span>
<span id="cb31-4"><a href="#cb31-4"></a>                <span class="at">names_sep =</span> <span class="st">"_"</span>, </span>
<span id="cb31-5"><a href="#cb31-5"></a>                <span class="at">values_to =</span> <span class="st">"freq"</span> ) <span class="ot">-&gt;</span> punctual</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-data-frame-punctual" class="slide level2">
<h2>The data frame <code>punctual</code></h2>
<div class="cell">
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["airport"],"name":[1],"type":["chr"],"align":["left"]},{"label":["airline"],"name":[2],"type":["chr"],"align":["left"]},{"label":["status"],"name":[3],"type":["chr"],"align":["left"]},{"label":["freq"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"LosAngeles","2":"aa","3":"ontime","4":"497"},{"1":"LosAngeles","2":"aa","3":"delayed","4":"62"},{"1":"LosAngeles","2":"aw","3":"ontime","4":"694"},{"1":"LosAngeles","2":"aw","3":"delayed","4":"117"},{"1":"Phoenix","2":"aa","3":"ontime","4":"221"},{"1":"Phoenix","2":"aa","3":"delayed","4":"12"},{"1":"Phoenix","2":"aw","3":"ontime","4":"4840"},{"1":"Phoenix","2":"aw","3":"delayed","4":"415"},{"1":"SanDiego","2":"aa","3":"ontime","4":"212"},{"1":"SanDiego","2":"aa","3":"delayed","4":"20"},{"1":"SanDiego","2":"aw","3":"ontime","4":"383"},{"1":"SanDiego","2":"aw","3":"delayed","4":"65"},{"1":"SanFrancisco","2":"aa","3":"ontime","4":"503"},{"1":"SanFrancisco","2":"aa","3":"delayed","4":"102"},{"1":"SanFrancisco","2":"aw","3":"ontime","4":"320"},{"1":"SanFrancisco","2":"aw","3":"delayed","4":"129"},{"1":"Seattle","2":"aa","3":"ontime","4":"1841"},{"1":"Seattle","2":"aa","3":"delayed","4":"305"},{"1":"Seattle","2":"aw","3":"ontime","4":"201"},{"1":"Seattle","2":"aw","3":"delayed","4":"61"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="proportions-delayed-by-airline" class="slide level2">
<h2>Proportions delayed by airline</h2>
<ul>
<li>Two-step process: get appropriate subtable:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>xt <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(freq <span class="sc">~</span> airline <span class="sc">+</span> status, <span class="at">data =</span> punctual)</span>
<span id="cb32-2"><a href="#cb32-2"></a>xt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       status
airline delayed ontime
     aa     501   3274
     aw     787   6438</code></pre>
</div>
</div>
<ul>
<li>and then calculate appropriate proportions:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">prop.table</span>(xt, <span class="at">margin =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       status
airline   delayed    ontime
     aa 0.1327152 0.8672848
     aw 0.1089273 0.8910727</code></pre>
</div>
</div>
<ul>
<li>More of Alaska Airlines’ flights delayed (13.3% vs.&nbsp;10.9%).</li>
</ul>
</section>
<section id="proportion-delayed-by-airport-for-each-airline" class="slide level2">
<h2>Proportion delayed by airport, for each airline</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>xt <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(freq <span class="sc">~</span> airline <span class="sc">+</span> status <span class="sc">+</span> airport, <span class="at">data =</span> punctual)</span>
<span id="cb36-2"><a href="#cb36-2"></a>xp <span class="ot">&lt;-</span> <span class="fu">prop.table</span>(xt, <span class="at">margin =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb36-3"><a href="#cb36-3"></a><span class="fu">ftable</span>(xp,</span>
<span id="cb36-4"><a href="#cb36-4"></a>  <span class="at">row.vars =</span> <span class="fu">c</span>(<span class="st">"airport"</span>, <span class="st">"airline"</span>),</span>
<span id="cb36-5"><a href="#cb36-5"></a>  <span class="at">col.vars =</span> <span class="st">"status"</span></span>
<span id="cb36-6"><a href="#cb36-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     status    delayed     ontime
airport      airline                             
LosAngeles   aa             0.11091234 0.88908766
             aw             0.14426634 0.85573366
Phoenix      aa             0.05150215 0.94849785
             aw             0.07897241 0.92102759
SanDiego     aa             0.08620690 0.91379310
             aw             0.14508929 0.85491071
SanFrancisco aa             0.16859504 0.83140496
             aw             0.28730512 0.71269488
Seattle      aa             0.14212488 0.85787512
             aw             0.23282443 0.76717557</code></pre>
</div>
</div>
</section>
<section id="simpsons-paradox" class="slide level2">
<h2>Simpson’s Paradox</h2>
<ul>
<li><p>America West more punctual overall,</p></li>
<li><p>but worse at <em>every single</em> airport!</p></li>
<li><p>How is that possible?</p></li>
<li><p>Log-linear analysis sheds some light.</p></li>
</ul>
</section>
<section id="model-1-and-output" class="slide level2">
<h2>Model 1 and output</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>punctual<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">glm</span>(freq <span class="sc">~</span> airport <span class="sc">*</span> airline <span class="sc">*</span> status,</span>
<span id="cb38-2"><a href="#cb38-2"></a>  <span class="at">data =</span> punctual, <span class="at">family =</span> <span class="st">"poisson"</span></span>
<span id="cb38-3"><a href="#cb38-3"></a>)</span>
<span id="cb38-4"><a href="#cb38-4"></a><span class="fu">drop1</span>(punctual<span class="fl">.1</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"4.662937e-13","3":"183.4348","4":"NA","5":"NA","_rn_":"<none>"},{"1":"4","2":"3.216569e+00","3":"178.6513","4":"3.216569","5":"0.5222589","_rn_":"airport:airline:status"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="remove-3-way-interaction" class="slide level2">
<h2>Remove 3-way interaction</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>punctual<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">update</span>(punctual<span class="fl">.1</span>, <span class="sc">~</span> . <span class="sc">-</span> airport<span class="sc">:</span>airline<span class="sc">:</span>status)</span>
<span id="cb39-2"><a href="#cb39-2"></a><span class="fu">drop1</span>(punctual<span class="fl">.2</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"3.216569","3":"178.6513","4":"NA","5":"NA","_rn_":"<none>"},{"1":"4","2":"6432.454138","3":"6599.8889","4":"6429.23757","5":"0.000000e+00","_rn_":"airport:airline"},{"1":"4","2":"240.107798","3":"407.5426","4":"236.89123","5":"4.334046e-50","_rn_":"airport:status"},{"1":"1","2":"45.465141","3":"218.8999","4":"42.24857","5":"8.037869e-11","_rn_":"airline:status"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Stop here.</p>
</section>
<section id="understanding-the-significance" class="slide level2">
<h2>Understanding the significance</h2>
<ul>
<li><code>airline:status</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>xt <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(freq <span class="sc">~</span> airline <span class="sc">+</span> status, <span class="at">data =</span> punctual)</span>
<span id="cb40-2"><a href="#cb40-2"></a><span class="fu">prop.table</span>(xt, <span class="at">margin =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       status
airline   delayed    ontime
     aa 0.1327152 0.8672848
     aw 0.1089273 0.8910727</code></pre>
</div>
</div>
<ul>
<li><p>More of Alaska Airlines’ flights delayed overall.</p></li>
<li><p>Saw this before.</p></li>
</ul>
</section>
<section id="understanding-the-significance-2" class="slide level2">
<h2>Understanding the significance (2)</h2>
<ul>
<li><code>airport:status</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>xt <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(freq <span class="sc">~</span> airport <span class="sc">+</span> status, <span class="at">data =</span> punctual)</span>
<span id="cb42-2"><a href="#cb42-2"></a><span class="fu">prop.table</span>(xt, <span class="at">margin =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              status
airport           delayed     ontime
  LosAngeles   0.13065693 0.86934307
  Phoenix      0.07780612 0.92219388
  SanDiego     0.12500000 0.87500000
  SanFrancisco 0.21916509 0.78083491
  Seattle      0.15199336 0.84800664</code></pre>
</div>
</div>
<ul>
<li><p>Flights into San Francisco (and maybe Seattle) are often late, and flights into Phoenix are usually on time.</p></li>
<li><p>Considerable variation among airports.</p></li>
</ul>
</section>
<section id="understanding-the-significance-3" class="slide level2">
<h2>Understanding the significance (3)</h2>
<ul>
<li><code>airport:airline</code>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>xt <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(freq <span class="sc">~</span> airport <span class="sc">+</span> airline, <span class="at">data =</span> punctual)</span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="fu">prop.table</span>(xt, <span class="at">margin =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              airline
airport                aa         aw
  LosAngeles   0.14807947 0.11224913
  Phoenix      0.06172185 0.72733564
  SanDiego     0.06145695 0.06200692
  SanFrancisco 0.16026490 0.06214533
  Seattle      0.56847682 0.03626298</code></pre>
</div>
</div>
<ul>
<li><p>What fraction of each airline’s flights are to each airport.</p></li>
<li><p>Most of Alaska Airlines’ flights to Seattle and San Francisco.</p></li>
<li><p>Most of America West’s flights to Phoenix.</p></li>
</ul>
</section>
<section id="the-resolution" class="slide level2">
<h2>The resolution</h2>
<ul>
<li><p>Most of America West’s flights to Phoenix, where it is easy to be on time.</p></li>
<li><p>Most of Alaska Airlines’ flights to San Francisco and Seattle, where it is difficult to be on time.</p></li>
<li><p>Overall comparison looks bad for Alaska because of this.</p></li>
<li><p>But, <em>comparing like with like</em>, if you compare each airline’s performance <em>to the same airport</em>, Alaska does better.</p></li>
<li><p>Aggregating over the very different airports was a (big) mistake: that was the cause of the Simpson’s paradox.</p></li>
<li><p>Alaska Airlines is <em>more</em> punctual when you do the proper comparison.</p></li>
</ul>
</section>
<section id="ovarian-cancer-a-four-way-table" class="slide level2">
<h2>Ovarian cancer: a four-way table</h2>
<ul>
<li><p>Retrospective study of ovarian cancer done in 1973.</p></li>
<li><p>Information about 299 women operated on for ovarian cancer 10 years previously.</p></li>
<li><p>Recorded:</p>
<ul>
<li><p>stage of cancer (early or advanced)</p></li>
<li><p>type of operation (radical or limited)</p></li>
<li><p>X-ray treatment received (yes or no)</p></li>
<li><p>10-year survival (yes or no)</p></li>
</ul></li>
<li><p>Survival looks like response (suggests logistic regression).</p></li>
<li><p>Log-linear model finds any associations at all.</p></li>
</ul>
</section>
<section id="the-data-1" class="slide level2">
<h2>The data</h2>
<p>after tidying:</p>
<pre><code>
stage operation xray survival freq
early radical no no 10
early radical no yes 41
early radical yes no 17
early radical yes yes 64
early limited no no 1
early limited no yes 13
early limited yes no 3
early limited yes yes 9
advanced radical no no 38
advanced radical no yes 6
advanced radical yes no 64
advanced radical yes yes 11
advanced limited no no 3
advanced limited no yes 1
advanced limited yes no 13
advanced limited yes yes 5
</code></pre>
</section>
<section id="reading-in-data" class="slide level2">
<h2>Reading in data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>my_url <span class="ot">&lt;-</span> <span class="st">"http://ritsokiguess.site/datafiles/cancer.txt"</span></span>
<span id="cb47-2"><a href="#cb47-2"></a>cancer <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(my_url, <span class="st">" "</span>)</span>
<span id="cb47-3"><a href="#cb47-3"></a>cancer <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["stage"],"name":[1],"type":["chr"],"align":["left"]},{"label":["operation"],"name":[2],"type":["chr"],"align":["left"]},{"label":["xray"],"name":[3],"type":["chr"],"align":["left"]},{"label":["survival"],"name":[4],"type":["chr"],"align":["left"]},{"label":["freq"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"early","2":"radical","3":"no","4":"no","5":"10"},{"1":"early","2":"radical","3":"no","4":"yes","5":"41"},{"1":"early","2":"radical","3":"yes","4":"no","5":"17"},{"1":"early","2":"radical","3":"yes","4":"yes","5":"64"},{"1":"early","2":"limited","3":"no","4":"no","5":"1"},{"1":"early","2":"limited","3":"no","4":"yes","5":"13"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="model-1" class="slide level2">
<h2>Model 1</h2>
<p>hopefully looking familiar by now:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>cancer<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">glm</span>(freq <span class="sc">~</span> stage <span class="sc">*</span> operation <span class="sc">*</span> xray <span class="sc">*</span> survival,</span>
<span id="cb48-2"><a href="#cb48-2"></a>  <span class="at">data =</span> cancer, <span class="at">family =</span> <span class="st">"poisson"</span></span>
<span id="cb48-3"><a href="#cb48-3"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="output-1" class="slide level2">
<h2>Output 1</h2>
<p>See what we can remove:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">drop1</span>(cancer<span class="fl">.1</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"-3.774763e-15","3":"98.12961","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"6.026558e-01","3":"96.73227","4":"0.6026558","5":"0.4375665","_rn_":"stage:operation:xray:survival"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Non-significant interaction can come out.</p>
</section>
<section id="model-2" class="slide level2">
<h2>Model 2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>cancer<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">update</span>(cancer<span class="fl">.1</span>, . <span class="sc">~</span> . <span class="sc">-</span> stage<span class="sc">:</span>operation<span class="sc">:</span>xray<span class="sc">:</span>survival)</span>
<span id="cb50-2"><a href="#cb50-2"></a><span class="fu">drop1</span>(cancer<span class="fl">.2</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"0.6026558","3":"96.73227","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"2.3575888","3":"96.48720","4":"1.7549331","5":"0.1852578","_rn_":"stage:operation:xray"},{"1":"1","2":"1.1773024","3":"95.30692","4":"0.5746466","5":"0.4484184","_rn_":"stage:operation:survival"},{"1":"1","2":"0.9557671","3":"95.08538","4":"0.3531113","5":"0.5523571","_rn_":"stage:xray:survival"},{"1":"1","2":"1.2337838","3":"95.36340","4":"0.6311281","5":"0.4269418","_rn_":"operation:xray:survival"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Least significant term is <code>stage:xray:survival</code>: remove.</p>
</section>
<section id="take-out-stagexraysurvival" class="slide level2">
<h2>Take out <code>stage:xray:survival</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>cancer<span class="fl">.3</span> <span class="ot">&lt;-</span> <span class="fu">update</span>(cancer<span class="fl">.2</span>, . <span class="sc">~</span> . <span class="sc">-</span> stage<span class="sc">:</span>xray<span class="sc">:</span>survival)</span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="fu">drop1</span>(cancer<span class="fl">.3</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"0.9557671","3":"95.08538","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"3.0866591","3":"95.21627","4":"2.1308920","5":"0.1443567","_rn_":"stage:operation:xray"},{"1":"1","2":"1.5660529","3":"93.69567","4":"0.6102858","5":"0.4346802","_rn_":"stage:operation:survival"},{"1":"1","2":"1.5512410","3":"93.68085","4":"0.5954739","5":"0.4403102","_rn_":"operation:xray:survival"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><code>operation:xray:survival</code> comes out next.</p>
</section>
<section id="remove-operationxraysurvival" class="slide level2">
<h2>Remove <code>operation:xray:survival</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>cancer<span class="fl">.4</span> <span class="ot">&lt;-</span> <span class="fu">update</span>(cancer<span class="fl">.3</span>, . <span class="sc">~</span> . <span class="sc">-</span> operation<span class="sc">:</span>xray<span class="sc">:</span>survival)</span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="fu">drop1</span>(cancer<span class="fl">.4</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"1.551241","3":"93.68085","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"1.697682","3":"91.82729","4":"0.1464406","5":"0.70196030","_rn_":"xray:survival"},{"1":"1","2":"6.841961","3":"96.97157","4":"5.2907197","5":"0.02143936","_rn_":"stage:operation:xray"},{"1":"1","2":"1.931103","3":"92.06072","4":"0.3798619","5":"0.53767715","_rn_":"stage:operation:survival"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="comments-2" class="slide level2">
<h2>Comments</h2>
<ul>
<li><p><code>stage:operation:xray</code> has now become significant, so won’t remove that.</p></li>
<li><p>Shows value of removing terms one at a time.</p></li>
<li><p>There are no higher-order interactions containing both <code>xray</code> and <code>survival</code>, so now we get to test (and remove) <code>xray:survival</code>.</p></li>
</ul>
</section>
<section id="remove-xraysurvival" class="slide level2">
<h2>Remove <code>xray:survival</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>cancer<span class="fl">.5</span> <span class="ot">&lt;-</span> <span class="fu">update</span>(cancer<span class="fl">.4</span>, . <span class="sc">~</span> . <span class="sc">-</span> xray<span class="sc">:</span>survival)</span>
<span id="cb53-2"><a href="#cb53-2"></a><span class="fu">drop1</span>(cancer<span class="fl">.5</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"1.697682","3":"91.82729","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"6.927690","3":"95.05730","4":"5.2300086","5":"0.02220042","_rn_":"stage:operation:xray"},{"1":"1","2":"2.024220","3":"90.15383","4":"0.3265384","5":"0.56770454","_rn_":"stage:operation:survival"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="remove-stageoperationsurvival" class="slide level2">
<h2>Remove <code>stage:operation:survival</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>cancer<span class="fl">.6</span> <span class="ot">&lt;-</span> <span class="fu">update</span>(cancer<span class="fl">.5</span>, . <span class="sc">~</span> . <span class="sc">-</span> stage<span class="sc">:</span>operation<span class="sc">:</span>survival)</span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="fu">drop1</span>(cancer<span class="fl">.6</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"2.024220","3":"90.15383","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"135.197636","3":"221.32725","4":"133.173416","5":"8.284940e-31","_rn_":"stage:survival"},{"1":"1","2":"4.115730","3":"90.24534","4":"2.091510","5":"1.481196e-01","_rn_":"operation:survival"},{"1":"1","2":"7.254229","3":"93.38384","4":"5.230009","5":"2.220042e-02","_rn_":"stage:operation:xray"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="last-step" class="slide level2">
<h2>Last step?</h2>
<p>Remove <code>operation:survival</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>cancer<span class="fl">.7</span> <span class="ot">&lt;-</span> <span class="fu">update</span>(cancer<span class="fl">.6</span>, . <span class="sc">~</span> . <span class="sc">-</span> operation<span class="sc">:</span>survival)</span>
<span id="cb55-2"><a href="#cb55-2"></a><span class="fu">drop1</span>(cancer<span class="fl">.7</span>, <span class="at">test =</span> <span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AIC"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["LRT"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"4.115730","3":"90.24534","4":"NA","5":"NA","_rn_":"<none>"},{"1":"1","2":"136.729112","3":"220.85872","4":"132.613382","5":"1.098503e-30","_rn_":"stage:survival"},{"1":"1","2":"9.345738","3":"93.47535","4":"5.230009","5":"2.220042e-02","_rn_":"stage:operation:xray"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Finally done!</p>
</section>
<section id="conclusions-1" class="slide level2">
<h2>Conclusions</h2>
<ul>
<li><p>What matters is things associated with <code>survival</code> (<code>survival</code> is “response”).</p></li>
<li><p>Only significant such term is <code>stage:survival</code>:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>xt <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(freq <span class="sc">~</span> stage <span class="sc">+</span> survival, <span class="at">data =</span> cancer)</span>
<span id="cb56-2"><a href="#cb56-2"></a><span class="fu">prop.table</span>(xt, <span class="at">margin =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          survival
stage             no       yes
  advanced 0.8368794 0.1631206
  early    0.1962025 0.8037975</code></pre>
</div>
</div>
<ul>
<li><p>Most people in early stage of cancer survived, and most people in advanced stage did not survive.</p></li>
<li><p>This true <em>regardless</em> of type of operation or whether or not X-ray treatment was received. These things have no impact on survival.</p></li>
</ul>
</section>
<section id="what-about-that-other-interaction" class="slide level2">
<h2>What about that other interaction?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>xt <span class="ot">&lt;-</span> <span class="fu">xtabs</span>(freq <span class="sc">~</span> operation <span class="sc">+</span> xray <span class="sc">+</span> stage, <span class="at">data =</span> cancer)</span>
<span id="cb58-2"><a href="#cb58-2"></a><span class="fu">ftable</span>(<span class="fu">prop.table</span>(xt, <span class="at">margin =</span> <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               stage   advanced      early
operation xray                            
limited   no         0.02836879 0.08860759
          yes        0.12765957 0.07594937
radical   no         0.31205674 0.32278481
          yes        0.53191489 0.51265823</code></pre>
</div>
</div>
<ul>
<li><p>Out of the people at each stage of cancer (since <code>margin=3</code> and <code>stage</code> was listed 3rd).</p></li>
<li><p>The association is between <code>stage</code> and <code>xray</code> <em>only for those who had the limited operation</em>.</p></li>
<li><p>For those who had the radical operation, there was no association between <code>stage</code> and <code>xray</code>.</p></li>
<li><p>This is of less interest than associations with <code>survival</code>.</p></li>
</ul>
</section>
<section id="general-procedure" class="slide level2">
<h2>General procedure</h2>
<ul>
<li><p>Start with “complete model” including all possible interactions.</p></li>
<li><p><code>drop1</code> gives highest-order interaction(s) remaining, remove least non-significant.</p></li>
<li><p>Repeat as necessary until everything significant.</p></li>
<li><p>Look at subtables of significant interactions.</p></li>
<li><p>Main effects not usually very interesting.</p></li>
<li><p>Interactions with “response” usually of most interest: show association with response.</p></li>
</ul>
<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="multiway_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="multiway_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="multiway_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="multiway_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="multiway_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="multiway_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="multiway_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="multiway_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="multiway_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="multiway_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>